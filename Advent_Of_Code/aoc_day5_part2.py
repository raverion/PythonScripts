moves = [[1,9,2],[4,6,1],[4,2,6],[5,8,7],[4,9,2],[1,5,8],[1,3,1],[2,3,1],[1,4,2],[11,7,2],[5,5,1],[1,6,8],[1,7,6],[3,6,7],[1,3,2],[1,6,8],[11,2,1],[1,9,8],[1,3,7],[4,7,9],[3,3,7],[4,8,2],[3,7,6],[2,6,3],[5,4,1],[1,6,5],[26,1,7],[1,4,6],[22,7,5],[4,9,1],[3,7,3],[1,6,3],[6,1,7],[2,7,5],[8,1,9],[4,3,4],[10,2,7],[6,7,4],[2,9,5],[1,5,1],[8,4,1],[2,5,9],[1,3,6],[1,9,1],[1,3,6],[2,5,2],[1,4,2],[1,2,3],[7,1,4],[9,7,4],[1,3,4],[2,2,4],[5,9,6],[1,4,5],[2,9,3],[1,1,6],[2,6,1],[2,6,5],[2,9,7],[1,3,9],[1,9,5],[2,7,3],[1,1,7],[7,4,5],[2,1,2],[3,3,8],[3,8,9],[31,5,8],[1,7,1],[1,2,1],[1,1,5],[1,5,6],[2,5,7],[10,4,9],[5,6,2],[3,2,6],[2,7,8],[1,6,3],[1,4,1],[1,3,6],[1,4,2],[2,1,2],[1,8,7],[10,8,2],[13,2,9],[1,1,5],[18,8,2],[21,9,6],[1,7,8],[2,9,7],[1,2,3],[1,7,8],[9,2,4],[1,7,8],[3,9,1],[1,8,1],[6,2,3],[5,4,7],[1,5,8],[2,4,3],[5,7,3],[2,2,7],[15,6,1],[12,1,2],[6,2,9],[4,9,5],[4,5,6],[14,3,9],[1,6,7],[1,7,2],[1,7,8],[9,2,6],[1,1,6],[2,9,8],[4,9,7],[1,1,5],[8,8,3],[1,5,4],[2,1,2],[3,1,4],[9,6,2],[1,7,4],[1,8,2],[1,6,4],[4,7,8],[12,6,8],[3,2,1],[6,8,7],[5,3,6],[3,3,6],[3,1,3],[8,2,9],[2,4,5],[2,7,2],[10,8,5],[3,3,2],[10,5,3],[1,4,3],[1,2,1],[1,1,7],[14,9,6],[5,2,4],[15,6,5],[3,9,3],[1,8,6],[1,3,8],[7,3,8],[16,5,1],[2,7,1],[1,5,9],[2,9,3],[15,1,5],[3,8,2],[3,3,1],[3,7,3],[8,4,6],[5,1,6],[9,5,7],[2,8,3],[2,2,7],[1,1,4],[2,5,8],[4,3,1],[4,8,1],[1,8,6],[9,7,6],[2,7,5],[3,1,8],[1,4,8],[1,2,4],[12,6,2],[3,8,6],[1,4,7],[2,6,8],[5,5,9],[13,2,9],[2,4,7],[13,9,5],[2,6,5],[1,3,9],[6,9,4],[5,1,3],[1,7,9],[15,5,8],[2,4,7],[2,4,6],[1,4,6],[1,5,7],[18,6,2],[2,7,3],[3,6,7],[3,2,8],[5,7,3],[1,9,6],[2,3,8],[11,3,2],[2,2,9],[1,6,2],[1,7,5],[1,5,9],[9,8,4],[1,4,6],[2,3,1],[2,1,5],[12,8,3],[1,8,2],[14,3,4],[1,6,4],[1,5,4],[20,2,7],[2,9,5],[1,5,3],[1,9,2],[1,2,8],[2,2,3],[5,4,5],[6,5,7],[2,8,2],[3,3,9],[5,4,5],[2,9,7],[2,2,3],[1,9,3],[22,7,3],[4,7,4],[24,3,6],[4,2,6],[18,6,9],[15,4,6],[8,6,3],[6,6,1],[7,9,6],[2,7,4],[8,3,9],[14,6,3],[2,3,9],[1,9,6],[13,9,1],[3,4,5],[1,9,6],[5,1,8],[3,3,9],[2,1,5],[8,5,8],[10,3,5],[3,4,6],[6,1,9],[4,5,3],[5,8,2],[6,6,3],[7,3,6],[1,3,4],[5,8,7],[5,2,6],[2,7,3],[3,7,3],[1,4,9],[9,6,9],[2,6,2],[1,8,2],[2,8,7],[5,1,5],[1,1,4],[13,5,7],[5,3,7],[1,5,6],[1,4,6],[3,2,8],[1,3,5],[1,3,8],[14,7,4],[1,5,6],[7,6,9],[6,7,9],[2,8,9],[2,8,1],[31,9,1],[13,4,2],[1,4,3],[10,2,7],[1,3,4],[1,2,7],[3,7,8],[1,4,1],[3,8,5],[32,1,5],[3,9,7],[4,9,6],[2,2,7],[2,1,7],[1,6,1],[1,9,4],[3,6,4],[1,1,8],[15,5,1],[1,8,4],[9,5,7],[1,9,8],[1,8,1],[10,1,9],[1,4,2],[2,9,5],[4,9,6],[1,2,7],[3,4,2],[1,1,5],[5,1,5],[1,4,9],[3,6,7],[23,7,6],[1,2,4],[1,2,5],[9,5,4],[1,2,5],[9,5,6],[1,9,7],[1,9,3],[3,9,4],[14,6,3],[5,7,4],[1,7,5],[1,5,9],[2,5,6],[16,6,2],[2,6,1],[7,4,8],[2,1,2],[4,3,5],[5,4,7],[2,6,7],[4,4,1],[4,8,9],[1,4,5],[1,6,8],[1,4,9],[4,1,7],[1,9,4],[2,2,7],[7,3,9],[15,2,3],[4,8,6],[1,4,7],[2,9,7],[1,6,8],[2,7,2],[5,7,2],[1,5,2],[6,2,9],[3,7,1],[3,1,2],[3,7,1],[2,2,9],[2,6,9],[1,8,3],[19,3,9],[1,6,3],[3,7,4],[1,2,5],[2,1,9],[2,2,3],[33,9,7],[1,1,7],[3,3,7],[1,3,2],[1,5,8],[4,9,7],[1,5,2],[2,4,9],[4,9,7],[3,2,1],[1,4,3],[1,9,7],[1,8,3],[7,7,3],[3,1,9],[4,9,7],[4,5,8],[3,3,4],[3,4,5],[3,3,6],[2,6,5],[38,7,5],[40,5,3],[4,8,9],[1,6,9],[1,5,1],[3,7,6],[1,7,5],[38,3,8],[1,1,9],[3,9,6],[5,3,9],[4,8,6],[1,7,1],[3,5,9],[1,1,2],[10,8,3],[5,8,1],[3,1,2],[9,6,7],[9,3,5],[1,7,6],[1,3,8],[1,7,9],[1,1,5],[1,1,3],[1,9,2],[4,2,3],[1,2,4],[9,8,1],[2,9,5],[2,1,2],[2,3,4],[6,8,6],[10,5,3],[7,3,2],[2,1,2],[5,1,7],[7,9,6],[7,6,5],[1,4,3],[7,7,4],[5,3,9],[7,2,6],[4,7,8],[5,8,9],[1,2,6],[1,3,5],[2,2,8],[8,4,6],[7,9,7],[4,7,9],[7,9,3],[8,3,1],[6,5,9],[8,1,8],[13,8,4],[3,9,6],[1,8,6],[1,7,3],[2,4,1],[5,9,1],[1,3,7],[15,6,1],[1,7,9],[10,4,7],[11,7,5],[17,1,6],[1,9,3],[6,6,1],[3,5,3],[2,4,5],[2,7,8],[12,5,3],[13,6,9],[2,8,2],[2,5,1],[16,3,8],[3,2,3],[2,3,7],[2,7,9],[1,3,7],[4,8,4],[2,4,8],[5,1,5],[2,4,7],[6,6,8],[2,8,5],[2,1,4],[5,8,7],[5,6,3],[6,9,8],[2,9,2],[1,1,7],[4,5,3],[2,2,3],[1,4,9],[10,3,6],[1,3,7],[10,7,2],[2,5,3],[1,4,2],[2,6,8],[3,6,5],[1,6,1],[7,2,3],[6,8,7],[4,6,3],[14,8,6],[11,6,8],[1,1,4],[6,7,2],[3,5,8],[4,1,7],[1,2,8],[1,2,6],[1,3,4],[1,5,6],[7,8,6],[9,3,2],[1,8,5]]

stack_1 = ['V','C','W','L','R','M','F','Q']
stack_2 = ['L','Q','D']
stack_3 = ['B','N','C','W','G','R','S','P']
stack_4 = ['G','Q','B','H','D','C','L']
stack_5 = ['S','Z','F','L','G','V']
stack_6 = ['P','N','G','D']
stack_7 = ['W','C','F','V','P','Z','D']
stack_8 = ['S','M','D','P','C']
stack_9 = ['C','P','M','V','T','W','N','Z']

stack_1.reverse()
stack_2.reverse()
stack_3.reverse()
stack_4.reverse()
stack_5.reverse()
stack_6.reverse()
stack_7.reverse()
stack_8.reverse()
stack_9.reverse()

stacks = [stack_1, stack_2, stack_3, stack_4, stack_5, stack_6, stack_7, stack_8, stack_9]

for stack in stacks:
    print(stack)
    
for i in range(len(moves)):
    move = moves[i]
    number_of_crates = move[0]
    origin_stack = stacks[move[1]-1]
    destination_stack = stacks[move[2]-1]
    for crate in range(number_of_crates): #duplicate the crates that will be lifted and append onto the target stack
        destination_stack.append(origin_stack[-1*number_of_crates + crate])
    for crate in range(number_of_crates): #only after duplicating them delete them from the source stack
        del origin_stack[-1]

for stack in stacks:
    print(stack[-1],end='')
           
    
